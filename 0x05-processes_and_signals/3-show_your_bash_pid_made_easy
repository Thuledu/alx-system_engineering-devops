#!/usr/bin/env bash
for pid in /proc/*/; do
    pid=${pid%*/}  # Remove trailing slash
    pid=${pid##*/} # Extract the PID from the directory path

    # Check if the cmdline file exists and contains the word "bash"
    if [[ -f "/proc/$pid/cmdline" && "$(cat "/proc/$pid/cmdline" 2>/dev/null)" == *"bash"* ]]; then
        # Extract the process name from the cmdline file
        process_name=$(tr -d '\0' < "/proc/$pid/cmdline")

        # Print the PID and process name
        echo "PID: $pid, Process Name: $process_name"
    fi
done
